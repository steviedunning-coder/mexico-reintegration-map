<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mexico Reintegration Map – 2025</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<style>
  html, body { margin:0; padding:0; height:100%; }
  #map { height: 100vh; width: 100%; }

  .legend {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: white;
    padding: 12px;
    border-radius: 6px;
    font-size: 13px;
    line-height: 1.4;
    box-shadow: 0 0 10px rgba(0,0,0,0.15);
    z-index: 999;
    max-width: 300px;
  }
</style>
</head>
<body>

<div id="map"></div>

<div class="legend">
  <strong>How to use this map:</strong><br>
  • Click a state marker to view integration data (state programs, pilots, proposed).<br>
  • Mexico “Te Abraza” states highlighted in popups: Baja California, Sonora, Chihuahua, Coahuila, Nuevo León, Tamaulipas.<br>
  <br>
  <strong>Data source:</strong><br>
  Unidad de Política Migratoria, Registro e Identidad de Personas (UPMRIP), SEGOB<br>
  Boletín de Estadísticas Migratorias 2025 (Jan–Nov; total Mexican nationals returned: 144,061)
</div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
// Initialize Map
var map = L.map('map').setView([23.0, -102.0], 5);

// Base Tile
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);

// --- STATE DATA (32 states) 2025 returnees + programs/pilots ---
var stateData = {
  "Aguascalientes": {desc:"No state-level reintegration program identified (2025). Federal options available.", link:"https://www.gob.mx/bienestar", returnees:1580},
  "Baja California": {desc:"Mexico Te Abraza operational. Federal and NGO programs support returned migrants.", link:"https://www.gob.mx/bienestar", returnees:3020},
  "Baja California Sur": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:144},
  "Campeche": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:432},
  "Chiapas": {desc:"Refugee & migrant stabilization programs active. Federal options also available.", link:"https://www.gob.mx/bienestar", returnees:11660},
  "Chihuahua": {desc:"Mexico Te Abraza operational. Federal and municipal support programs.", link:"https://www.gob.mx/bienestar", returnees:5180},
  "Coahuila": {desc:"Mexico Te Abraza operational. Federal employment linkage programs.", link:"https://www.gob.mx/bienestar", returnees:2016},
  "Colima": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:576},
  "Durango": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:2304},
  "Guanajuato": {desc:"Conecta platform active. State reintegration program active.", link:"https://migrantequiero.guanajuato.gob.mx", returnees:9790},
  "Guerrero": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:14260},
  "Hidalgo": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:3734},
  "Jalisco": {desc:"Fondo de Apoyo a Migrantes (state program supported by federal funds).", link:"https://www.jalisco.gob.mx", returnees:6048},
  "Mexico City": {desc:"Multi-agency integration services.", link:"https://www.cdmx.gob.mx", returnees:3168},
  "Estado de México": {desc:"Fondo de Apoyo a Migrantes (state program active).", link:"https://www.edomex.gob.mx", returnees:7205},
  "Michoacán": {desc:"Pilot productive return programs active.", link:"https://www.gob.mx/bienestar", returnees:11388},
  "Morelos": {desc:"Morelos te Abraza active.", link:"https://www.morelos.gob.mx", returnees:1873},
  "Nayarit": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:2016},
  "Nuevo León": {desc:"Mexico Te Abraza operational. Employment-focused reintegration programs.", link:"https://www.nl.gob.mx", returnees:1152},
  "Oaxaca": {desc:"Oaxaca es tu Tierra program active. State reintegration programs and pilots.", link:"https://www.gob.mx/bienestar", returnees:12526},
  "Puebla": {desc:"IPAM Puebla state program active.", link:"https://www.gob.mx/bienestar", returnees:9490},
  "Querétaro": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:2304},
  "Quintana Roo": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:288},
  "San Luis Potosí": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:3746},
  "Sinaloa": {desc:"State and federal support for returned migrants.", link:"https://www.gob.mx/bienestar", returnees:5762},
  "Sonora": {desc:"Mexico Te Abraza operational. Federal employment programs.", link:"https://www.gob.mx/bienestar", returnees:3318},
  "Tabasco": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:1152},
  "Tamaulipas": {desc:"Mexico Te Abraza operational. Federal + humanitarian response.", link:"https://www.gob.mx/bienestar", returnees:4753},
  "Tlaxcala": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:720},
  "Veracruz": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:9657},
  "Yucatán": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:288},
  "Zacatecas": {desc:"No state-level reintegration program identified (2025).", link:"https://www.gob.mx/bienestar", returnees:3168}
};

// State centroids (approx)
var stateCoords = {
  "Aguascalientes":[21.8853,-102.292],"Baja California":[32.5149,-117.038],"Baja California Sur":[24.1426,-110.313],
  "Campeche":[19.8301,-90.5349],"Chiapas":[16.7569,-93.1292],"Chihuahua":[28.632,-106.069],"Coahuila":[25.438,-100.974],
  "Colima":[19.2433,-103.725],"Durango":[24.0277,-104.653],"Guanajuato":[21.019,-101.257],"Guerrero":[17.5515,-99.5006],
  "Hidalgo":[20.1011,-98.7624],"Jalisco":[20.6597,-103.35],"Mexico City":[19.4326,-99.1332],"Estado de México":[19.2826,-99.6557],
  "Michoacán":[19.5665,-101.707],"Morelos":[18.6813,-99.1013],"Nayarit":[21.7514,-104.846],"Nuevo León":[25.6866,-100.316],
  "Oaxaca":[17.0732,-96.7266],"Puebla":[19.0414,-98.2063],"Querétaro":[20.5888,-100.39],"Quintana Roo":[19.1817,-88.4791],
  "San Luis Potosí":[22.1565,-100.986],"Sinaloa":[24.8091,-107.394],"Sonora":[29.0729,-110.956],"Tabasco":[17.8409,-92.6189],
  "Tamaulipas":[23.7417,-99.1459],"Tlaxcala":[19.3182,-98.2375],"Veracruz":[19.1738,-96.1342],"Yucatán":[20.7099,-89.0943],
  "Zacatecas":[22.7709,-102.583]
};

// Add markers
for (var state in stateCoords) {
    var coords = stateCoords[state];
    L.marker(coords).addTo(map)
      .bindPopup(function() {
        var data = stateData[state];
        return `<strong>${state}</strong><br>${data.desc}<br>
                Returnees (2025): ${data.returnees.toLocaleString()}<br>
                <a href="${data.link}" target="_blank">Program link</a>`;
      }());
}
</script>
</body>
</html>

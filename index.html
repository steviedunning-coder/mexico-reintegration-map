<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Mexico Return & Reintegration (2025â€“2026)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
html, body { height:100%; margin:0; font-family: Arial, sans-serif; }
#map { height:100vh; width:100%; }

.legend {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background: white;
  padding: 14px 16px;
  border-radius: 6px;
  font-size: 13px;
  box-shadow: 0 2px 12px rgba(0,0,0,.25);
  max-width: 420px;
  z-index: 1000;
}
.legend a { color:#0057b7; text-decoration:none; }
.legend a:hover { text-decoration:underline; }
</style>
</head>

<body>

<div id="map"></div>

<div class="legend">
<strong>Mexico Return & Reintegration (2025â€“2026)</strong><br><br>

Use the toggle (top-left) to switch between:<br>
â€¢ <strong>State of origin</strong> (where people are from)<br>
â€¢ <strong>State of destination</strong> (where people arrive)<br><br>

Click a state to view:<br>
â€¢ Returned Mexican nationals (2025)<br>
â€¢ Active, pilot, or emerging reintegration programs (2026)<br><br>

<strong>Data source</strong><br>
Unidad de PolÃ­tica Migratoria, Registro e Identidad de Personas (SEGOB)<br>
<em>BoletÃ­n de EstadÃ­sticas Migratorias 2025 (eneroâ€“noviembre)</em><br><br>

Total Mexican nationals returned (2025): <strong>144,061</strong>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
const map = L.map("map").setView([23.5, -102], 5);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
 { attribution:"Â© OpenStreetMap contributors" }).addTo(map);

/* ---------- CENTROIDS ---------- */
const coords = {
"Aguascalientes":[21.88,-102.29],"Baja California":[32.51,-117.03],
"Baja California Sur":[24.14,-110.31],"Campeche":[19.83,-90.53],
"Chiapas":[16.75,-93.12],"Chihuahua":[28.63,-106.07],
"Coahuila":[25.43,-100.99],"Colima":[19.24,-103.72],
"Durango":[24.03,-104.65],"Guanajuato":[21.01,-101.25],
"Guerrero":[17.55,-99.50],"Hidalgo":[20.10,-98.76],
"Jalisco":[20.65,-103.35],"Mexico City":[19.43,-99.13],
"Estado de MÃ©xico":[19.28,-99.65],"MichoacÃ¡n":[19.56,-101.70],
"Morelos":[18.68,-99.10],"Nayarit":[21.75,-104.84],
"Nuevo LeÃ³n":[25.68,-100.31],"Oaxaca":[17.07,-96.72],
"Puebla":[19.04,-98.20],"QuerÃ©taro":[20.58,-100.39],
"Quintana Roo":[19.18,-88.48],"San Luis PotosÃ­":[22.15,-100.98],
"Sinaloa":[24.80,-107.39],"Sonora":[29.07,-110.95],
"Tabasco":[17.84,-92.61],"Tamaulipas":[23.74,-99.14],
"Tlaxcala":[19.31,-98.23],"Veracruz":[19.17,-96.13],
"YucatÃ¡n":[20.70,-89.09],"Zacatecas":[22.77,-102.58]
};

/* ---------- RETURN DATA ---------- */
const returns = {
"Guerrero":{o:14260,d:10084},"Oaxaca":{o:12526,d:8644},
"Chiapas":{o:11667,d:0},"MichoacÃ¡n":{o:11388,d:8357},
"Guanajuato":{o:9790,d:8357},"Veracruz":{o:9647,d:6761},
"Puebla":{o:9490,d:7059},"Estado de MÃ©xico":{o:7205,d:6040},
"Jalisco":{o:6048,d:4753},"Sinaloa":{o:5762,d:4322},
"Tamaulipas":{o:4753,d:7635},"Sonora":{o:3318,d:5032},
"Baja California":{o:3020,d:24072}
};

/* ---------- PROGRAMS (WITH LINKS) ---------- */
const programs = {
"Morelos":`ðŸŸ¢ <a href="https://www.morelos.gob.mx" target="_blank">Morelos te Abraza</a><br>
ðŸŸ¢ Migrantes en el CorazÃ³n`,
"Puebla":`ðŸŸ¢ <a href="https://ipam.puebla.gob.mx" target="_blank">Instituto Poblano de Asistencia al Migrante</a><br>
ðŸŸ¢ <a href="https://www.publimetro.com.mx/puebla/2025/03/04/centro-de-capacitacion-de-empleo-para-migrantes-repatriados-ubicacion-y-que-ofrecera/" target="_blank">Centro de CapacitaciÃ³n para el Empleo</a>`,
"Guanajuato":`ðŸŸ¢ <a href="https://coneecta.net/" target="_blank">Conecta</a><br>
ðŸŸ¡ <a href="https://migrantequiero.guanajuato.gob.mx" target="_blank">MigranteQuiero</a>`,
"MichoacÃ¡n":`ðŸŸ¡ <a href="https://ideasnet.org/microempresarios-latinoamericanos-y-retornados-en-mexico/" target="_blank">IDEASnet â€“ Financial Inclusion</a>`,
"Oaxaca":`ðŸŸ¢ <a href="https://www.oaxaca.gob.mx" target="_blank">Oaxaca es tu tierra</a>`,
"Jalisco":`ðŸŸ¢ <a href="https://www.jalisco.gob.mx/es/gobierno/fondo-de-apoyo-migrantes" target="_blank">Fondo de Apoyo a Migrantes</a>`,
"Tamaulipas":`ðŸŸ¢ <a href="https://accesolatino.org/camino/" target="_blank">Acceso Latino â€“ CAMINO</a><br>
âšª <a href="https://miestatusbienestar.com.mx/noticias/conoce-la-tarjeta-paisano-la-nueva-ayuda-del-programa-del-bienestar/" target="_blank">Tarjeta Paisano (MÃ©xico te Abraza)</a>`,
"Baja California":`âšª <a href="https://miestatusbienestar.com.mx/noticias/conoce-la-tarjeta-paisano-la-nueva-ayuda-del-programa-del-bienestar/" target="_blank">Tarjeta Paisano</a>`,
"Sonora":`âšª <a href="https://miestatusbienestar.com.mx/noticias/conoce-la-tarjeta-paisano-la-nueva-ayuda-del-programa-del-bienestar/" target="_blank">Tarjeta Paisano</a>`,
"Chihuahua":`âšª <a href="https://miestatusbienestar.com.mx/noticias/conoce-la-tarjeta-paisano-la-nueva-ayuda-del-programa-del-bienestar/" target="_blank">Tarjeta Paisano</a>`,
"Coahuila":`âšª <a href="https://miestatusbienestar.com.mx/noticias/conoce-la-tarjeta-paisano-la-nueva-ayuda-del-programa-del-bienestar/" target="_blank">Tarjeta Paisano</a>`,
"Nuevo LeÃ³n":`âšª <a href="https://miestatusbienestar.com.mx/noticias/conoce-la-tarjeta-paisano-la-nueva-ayuda-del-programa-del-bienestar/" target="_blank">Tarjeta Paisano</a>`
};

/* ---------- LAYERS ---------- */
const origin = L.layerGroup();
const destination = L.layerGroup();

Object.keys(coords).forEach(s=>{
  const r = returns[s] || {o:0,d:0};
  const p = programs[s] || "Federal reintegration programs available nationwide";

  L.marker(coords[s]).bindPopup(
    `<strong>${s}</strong><br>
    <strong>Returned (origin, 2025):</strong> ${r.o.toLocaleString()}<br><br>
    <strong>Programs:</strong><br>${p}`
  ).addTo(origin);

  L.marker(coords[s]).bindPopup(
    `<strong>${s}</strong><br>
    <strong>Returned (destination, 2025):</strong> ${r.d.toLocaleString()}<br><br>
    <strong>Programs:</strong><br>${p}`
  ).addTo(destination);
});

origin.addTo(map);

L.control.layers(
  { "State of Origin": origin, "State of Destination": destination },
  null,
  { position:"topleft", collapsed:false }
).addTo(map);
</script>

</body>
</html>
